# Feb 18, 2026 - System Recovery & File Bloat Prevention

## What Happened
- **AGENTS.md ballooned to 20,683 chars** (exceeded 20k limit)
- Anthropic API key went into cooldown
- OpenAI Codex removed from fallback (no API key)
- Claude Code had to intervene to restore system

## What Claude Code Fixed
1. Reset Anthropic API error counters → key re-enabled
2. Removed openai-codex/gpt-5.3-codex from model fallback
3. Trimmed AGENTS.md (20,683 → 19,545 chars) by removing verbose examples
4. Removed disabled plugin config warnings (memory-lancedb, llm-task, lobster)

## Root Cause
AGENTS.md became a reference dump. Every new pattern, decision tree, and guidance got appended. No growth control = crisis.

## Solution Implemented
- Created `AGENTS-SPLITS.md` (prevention tracker)
- Defined rules: AGENTS.md stays <20k, satellites handle overflow
- Added growth log + escalation plan if bloat recurs
- Monthly review task added to HEARTBEAT.md

## Lessons Learned
1. **File size limits matter** - not arbitrary, they affect system stability
2. **Modular guidance > monolithic files** - reference docs should link, not contain
3. **Satellite files cost zero tokens** - links are cheaper than duplication
4. **Prevention beats crisis** - tracking + rules prevent repeat incidents

## Next Steps
- Monitor AGENTS.md growth monthly (add to heartbeat checks)
- If approaches 19.8k → split immediately
- Keep satellite files in sync with operational changes

## Codex Restoration (14:35 update)
Reviewed Claude Code's changes to AGENTS.md:
- **Removed:** Cost Impact example (~150 chars), Common Mistakes code blocks (~800 chars), model version clarification (~50 chars)
- **Preserved:** All critical content (Codex rate limits, security model, routing logic, decision trees)
- **Result:** Safe trim with zero information loss. Everything important still documented.

**Action taken:** Re-enabled Codex as primary fallback in config. System restarted. See CODEX-RESTORATION.md for full details.

## System Status ✅
All APIs restored. Codex re-enabled as primary fallback. System stable and running.
